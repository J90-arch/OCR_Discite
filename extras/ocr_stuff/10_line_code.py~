import cv2
import pytesseract
import numpy as np
from PIL import Image

def write_image(image, path):
        img = Image.fromarray(np.array(image), 'L')
        img.save(path)

img = cv2.imread('E:/test_img/10lc-test.jpg')
gray = cv2.cvtColor(img, cv2.COLOR_RGB2GRAY)

gray, img_bin = cv2.threshold(gray,128,255,cv2.THRESH_BINARY | cv2.THRESH_OTSU)
gray = cv2.bitwise_not(img_bin)

write_image(gray, 'E:/test_img/test1_img.png')
kernel = np.ones((2, 1), np.uint8)
img = cv2.erode(gray, kernel, iterations=1)
write_image(img, 'E:/test_img/test2_img.png')

img = cv2.dilate(img, kernel, iterations=1)

write_image(img, 'E:/test_img/test3_img.png')
#out_below = pytesseract.image_to_string(img)
#print("OUTPUT:", out_below)
